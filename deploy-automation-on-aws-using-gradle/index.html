<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Deploy automation on AWS using Gradle</title>
  <meta name="description" content="According to the Gartner MQ 2015 report, Amazon with its Amazon Web Services is currently the market leader provider of IaaS services. Furthermore, it can no...">
  
  <meta name="author" content="Gioia Ballin">
  <meta name="copyright" content="&copy; Gioia Ballin 2017">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="According to the Gartner MQ 2015 report, Amazon with its Amazon Web Services is currently the market leader provider of IaaS services. Furthermore, it can no..." />
  <meta property="og:url" content="http://codingnights.com" />
  <meta property="og:site_name" content="Coding Nights" />
  <meta property="og:title" content="Deploy automation on AWS using Gradle" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://codingnights.com/assets/lego.jpg" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Deploy automation on AWS using Gradle">
  <meta name="twitter:description" content="According to the Gartner MQ 2015 report, Amazon with its Amazon Web Services is currently the market leader provider of IaaS services. Furthermore, it can no...">
  <meta name="twitter:image" content="http://codingnights.com/assets/lego.jpg">
  <meta name="twitter:url" content="http://codingnights.com">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://codingnights.com/deploy-automation-on-aws-using-gradle/">
  <link rel="alternate" type="application/rss+xml" title="Coding Nights" href="http://codingnights.com/feed.xml" />
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/logo.png" alt="Coding Nights">
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
        <li class="nav-link"><a href="/">Coding Nights</a></li>
        
          
            
              <li class="nav-link"><a href="/about-me/">About Me</a></li>
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
              <li class="nav-link"><a href="/posts/">Posts</a></li>
            
          
        
          
            
              <li class="nav-link"><a href="/resources/">Resources</a></li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="post">

<div class="post-header-container has-cover" style="background-image: url(/assets/lego.jpg);">
  <div class="scrim has-cover">
    <header class="post-header">
      <h1 class="title">Deploy automation on AWS using Gradle</h1>
      <p class="info">by <strong>Gioia Ballin</strong></p>
    </header>
  </div>
</div>

<div class="wrapper">

<section class="post-meta">
  <div class="post-date">November 22, 2015</div>
  <div class="post-categories">
  in 
    
    <a href="/category/programming">Programming</a>
    
  
  </div>
</section>

<article class="post-content">
  <p>According to the <a href="https://aws.amazon.com/resources/gartner-2015-mq-learn-more/" target="_blank">Gartner MQ 2015 report</a>, Amazon with its Amazon Web Services is currently the market leader provider of IaaS services. Furthermore, it can now boast well known “unicorns” (e.g.: Airbnb, Netflix, Slack, Pinterest) among its <a href="https://aws.amazon.com/solutions/case-studies/" target="_blank">clients</a>. Apart from these success stories, relying on Amazon Web Services is also becoming a popular choice for small, innovative, high-tech businesses.</p>

<p>Different AWS tools aim to address the deployment automation problem. Here, I want to focus on <a href="http://docs.aws.amazon.com/codedeploy/latest/userguide/welcome.html" target="_blank">AWS CodeDeploy</a>. AWS CodeDeploy lets you to easily deploy applications from S3 buckets (or GitHub repositories) to EC2 instances. It’s a really easy-to-use tool but, it involves the execution of repetitive manual actions.</p>

<p>Let’s say we have a Java application built using <a href="https://gradle.org/" target="_blank">Gradle</a>. And, let’s say we want to use AWS CodeDeploy to deploy our application JAR from a S3 bucket to a EC2 instance. In order to accomplish this objective, we have to:</p>

<ol>
  <li>build the application using Gradle, thus obtaining the JAR file</li>
  <li>move the JAR file into our deployment bucket on S3</li>
  <li>sign-in to the AWS Management Console</li>
  <li>open the AWS CodeDeploy console on the Deployments section</li>
  <li>choose “Create New Deployment”</li>
  <li>
    <p>in the “Create New Deployment” section, insert:</p>

    <ul>
      <li>the application name</li>
      <li>the deployment group</li>
      <li>the revision type</li>
      <li>the revision location</li>
      <li>the deployment configuration</li>
    </ul>
  </li>
  <li>click “Deploy Now”.</li>
</ol>

<p><strong>Each time</strong> we have to deploy our application, we should follow these steps in which either we do mechanical actions (e.g.: moving a file from our local development environment to the S3 deployment bucket) or we insert information known in advance. Think about having the test and staging environments running on EC2 instances. It’s very likely that performing tests in those stages will flush out bugs, thus implying a code review. In turn, any code changes will require new tests, thus entailing the deployment of the code to the test/staging deployment groups again, and again. Therefore, reducing the amount of “boilerplate actions” that should be performed to accomplish the deployment can effectively streamline the overall develop-test-and-deploy process.</p>

<blockquote>
  <p>Since we’re using Gradle to build our application, can we use it to create tasks that simplify our lives?</p>
</blockquote>

<p>The answer is definitely yes. We can code Gradle tasks providing the capability to automatically perform specific kind of actions but, in order to do so, we need a tool for interacting with AWS services through scripts.</p>

<blockquote>
  <p>Does Amazon provide any tool serving our ends?</p>
</blockquote>

<p>Again, the answer is yes. The tool we’re looking for is the <a href="https://aws.amazon.com/cli" target="_blank">AWS Command Line Interface</a>. The AWS CLI is shipped as a python package (so it can be installed via <tt>pip</tt>) and it provides a complete series of commands devoted to manage, drive and control AWS services.</p>

<blockquote>
  <p>What’s the main idea, then?</p>
</blockquote>

<p>Gradle gives the chance to execute shell scripts, thus it’s possible to write very simple bash scripts that performs the mechanical actions we wouldn’t like to do anymore and having them executed by Gradle.</p>

<p>Note: If we want to automate the deployment process in this way, the AWS CLI installation and configuration into our system is a prerequisite. Please refer to the <a href="http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-set-up.html" target="_blank">Amazon guide</a> to have your environment properly set up.</p>

<blockquote>
  <p>Let’s start! We want to build our distribution and move it to the right S3 bucket.</p>
</blockquote>

<p>First of all, we need to write a Gradle task that produces the distribution file. The logic applied to create the distribution may vary from case to case so, I don’t want to go deeper into this implementation. Long short story, let’s say we have a Gradle task named <strong>buildDistribution</strong> that accomplishes the purpose of making a package of our application with the AWS CodeDeploy scripts bundled inside.</p>

<p>Now, we can write a Gradle task that <a href="https://docs.gradle.org/current/dsl/org.gradle.api.Task.html#org.gradle.api.Task:dependsOn(java.lang.Object[])" target="_blank">dependsOn</a> <strong>buildDistribution</strong> and moves the distribution created by the <strong>buildDistribution</strong> task to the right S3 bucket.</p>

<figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre></td><td class="code"><pre><span class="c1">// Creates a new bundle and copies it to S3</span>
<span class="n">task</span> <span class="nf">buildAndCopyDistribution</span><span class="o">(</span><span class="nl">type:</span><span class="n">Exec</span><span class="o">,</span> <span class="nl">dependsOn:</span> <span class="o">[</span><span class="n">buildDistribution</span><span class="o">])</span> <span class="o">{</span>
    <span class="c1">// Defines the path into the project of the move.sh script</span>
    <span class="kt">def</span> <span class="n">move</span> <span class="o">=</span> <span class="s2">"automation/move.sh"</span>
    <span class="c1">// Defines the distribution name based on the jar section</span>
    <span class="kt">def</span> <span class="n">distName</span> <span class="o">=</span> <span class="s2">"${jar.baseName}-${jar.version}.zip"</span>
    <span class="c1">// Defines the path into the project of the distribution file</span>
    <span class="kt">def</span> <span class="n">localDist</span> <span class="o">=</span> <span class="s2">"$buildDir/distributions/${distName}"</span>

    <span class="c1">// Moves the distribution file to the right S3 bucket</span>
    <span class="n">executable</span> <span class="s2">"bash"</span>
    <span class="n">args</span> <span class="s2">"-c"</span><span class="o">,</span> <span class="s2">"sh ${move} ${localDist}"</span>
<span class="o">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>The task definition is pretty straightforward. First of all, the task is defined to be an <a href="https://docs.gradle.org/current/dsl/org.gradle.api.tasks.Exec.html" target="_blank">Exec</a> task, meaning that it’s a task that <em>“executes a command line process”</em> and, of course, it depends on a previous execution of the <strong>buildDistribution</strong> task. Then, the task defines two important variables:</p>

<ul>
  <li>the <strong>move</strong> variable contains the path to the <strong>move.sh</strong> script. The reference folder for the path is the one in which the <strong>build.gradle</strong> file is contained. The <strong>move.sh</strong> script will perform the actual move of the file to the S3 bucket.</li>
  <li>the <strong>localDist</strong> variable contains the path to the distribution file. Again, the reference folder is the one in which the <strong>build.gradle</strong> file is contained.</li>
</ul>

<p>Finally, the task executes the <strong>move.sh</strong> bash script with the <strong>localDist</strong> variable as input.</p>

<blockquote>
  <p>What does the <strong>move.sh</strong> script actually do?</p>
</blockquote>

<p>Let’s see it directly.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td class="code"><pre><span class="c">#!/bin/bash</span>

<span class="nv">AWS</span><span class="o">=</span><span class="s2">"/usr/local/bin/aws"</span>

<span class="nv">APPLICATION_NAME</span><span class="o">=</span><span class="s2">"cn-app"</span>

<span class="nv">BUCKET_NAME</span><span class="o">=</span><span class="s2">"coding-nights-releases"</span>
<span class="nv">FULL_BUCKET</span><span class="o">=</span><span class="s2">"s3://</span><span class="k">${</span><span class="nv">BUCKET_NAME</span><span class="k">}</span><span class="s2">/</span><span class="k">${</span><span class="nv">APPLICATION_NAME</span><span class="k">}</span><span class="s2">/"</span>
<span class="nv">SOURCE_FILE</span><span class="o">=</span><span class="nv">$1</span>

<span class="nb">echo</span> <span class="s2">"Application Name: </span><span class="k">${</span><span class="nv">APPLICATION_NAME</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"Full Bucket: </span><span class="k">${</span><span class="nv">FULL_BUCKET</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"Source file: </span><span class="k">${</span><span class="nv">SOURCE_FILE</span><span class="k">}</span><span class="s2">"</span>

<span class="c"># Copies the distribution to the right S3 Bucket</span>
<span class="nv">$AWS</span> s3 cp <span class="k">${</span><span class="nv">SOURCE_FILE</span><span class="k">}</span> <span class="k">${</span><span class="nv">FULL_BUCKET</span><span class="k">}</span>

<span class="c"># Checks the result of the copy</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> -eq 0 <span class="o">]</span>; <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Copy successful!"</span>
<span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"Copy Failed!"</span>
<span class="k">fi</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Basically, the script defines some well known parameters like, the application name and the release bucket name. By merging these two constants, the full S3 bucket path is obtained. <strong>It isn’t required to build such S3 path</strong>, it essentially depends on the standard you chose to organize and manage your S3 buckets. Furthermore, you can of course decide to define the variable <strong>FULL_BUCKET</strong> only. Once the script has acquired the bucket location and the location on your environment of the distribution file, it executes the AWS CLI command devoted to move a file to an s3 bucket and, finally, it checks the result and returns.</p>

<p>Summing up, by executing the task <strong>buildAndCopyDistribution</strong> we package a new distribution for our application and we move it to the right S3 bucket.</p>

<blockquote>
  <p>Now, how can we automate the deploy of our <tt>cn-app</tt> to the deployment group <tt>cn-app-test</tt> (representing our test environment)?</p>
</blockquote>

<p>The approach is the same used for automating the transfer of the distribution bundle. So, we need to write a Gradle task that performs the deploy of our bundle to the test environment.</p>

<figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11</pre></td><td class="code"><pre><span class="c1">// Deploys a given revision to the test environment</span>
<span class="n">task</span> <span class="nf">deployOnTest</span><span class="o">(</span><span class="nl">type:</span><span class="n">Exec</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Defines the path into the project of the deploy.sh script</span>
    <span class="kt">def</span> <span class="n">deploy</span> <span class="o">=</span> <span class="s2">"automation/deploy.sh"</span>
    <span class="c1">// Defines the distribution name based on the jar section</span>
    <span class="kt">def</span> <span class="n">distName</span> <span class="o">=</span> <span class="s2">"${jar.baseName}-${jar.deployVersion}.zip"</span>

    <span class="c1">// Deploys the given distribution to the test deployment group</span>
    <span class="n">executable</span> <span class="s2">"bash"</span>
    <span class="n">args</span> <span class="s2">"-c"</span><span class="o">,</span> <span class="s2">"sh ${deploy} test ${distName}"</span>
<span class="o">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Again, we’re facing with a simple task definition. First, the task is defined to be an <a href="https://docs.gradle.org/current/dsl/org.gradle.api.tasks.Exec.html" target="_blank">Exec</a> task, exactly like the <strong>buildAndCopyDistribution</strong> task. Then, the task defines two important variables:</p>

<ul>
  <li>the <strong>deploy</strong> variable contains the path to the <strong>deploy.sh</strong> script. The reference folder for the path is the one in which the <strong>build.gradle</strong> file is contained. The <strong>deploy.sh</strong> script will perform the deploy of our bundle to the <tt>cn-app-test</tt> deployment group.</li>
  <li>the <strong>distName</strong> variable contains the name of the distribution bundle.</li>
</ul>

<p>Finally, the task executes the <strong>deploy.sh</strong> bash script by feeding it with the constant string “<strong>test</strong>”, which identifies the target deployment group, and with the name of the distribution bundle.</p>

<p>You may be wondering why the constant string is needed. Indeed, it isn’t. However, think about having more deployment groups each one representing a stage in the deployment process of the same application. In this case, the <strong>deploy.sh</strong> script is expected to perform the very same computations for every deployment group but we don’t want to cut and paste the same code changing only a constant string.</p>

<blockquote>
  <p>Finally, we’ve reached the end. What does the <strong>deploy.sh</strong> script actually do?</p>
</blockquote>

<p>Let’s see it.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></td><td class="code"><pre><span class="c">#!/bin/bash</span>

<span class="nv">AWS</span><span class="o">=</span><span class="s2">"/usr/local/bin/aws"</span>

<span class="nv">APPLICATION_NAME</span><span class="o">=</span><span class="s2">"cn-app"</span>
<span class="nv">APPLICATION_ENV</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">DEPLOYMENT_GROUP</span><span class="o">=</span><span class="s2">"cn-app-</span><span class="k">${</span><span class="nv">APPLICATION_ENV</span><span class="k">}</span><span class="s2">"</span>
<span class="nv">BUCKET_NAME</span><span class="o">=</span><span class="s2">"coding-nights-releases"</span>
<span class="nv">BUNDLE_NAME</span><span class="o">=</span><span class="nv">$2</span>

<span class="nb">echo</span> <span class="s2">"Application Name: </span><span class="k">${</span><span class="nv">APPLICATION_NAME</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"Application Environment: </span><span class="k">${</span><span class="nv">APPLICATION_ENV</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"Deployment Group: </span><span class="k">${</span><span class="nv">DEPLOYMENT_GROUP</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"Bucket Name: </span><span class="k">${</span><span class="nv">BUCKET_NAME</span><span class="k">}</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"Bundle Name: </span><span class="k">${</span><span class="nv">BUNDLE_NAME</span><span class="k">}</span><span class="s2">"</span>

<span class="nv">$AWS</span> s3api head-object --bucket <span class="k">${</span><span class="nv">BUCKET_NAME</span><span class="k">}</span> --key <span class="s2">"</span><span class="k">${</span><span class="nv">APPLICATION_NAME</span><span class="k">}</span><span class="s2">/</span><span class="k">${</span><span class="nv">BUNDLE_NAME</span><span class="k">}</span><span class="s2">"</span>

<span class="c"># Checks whether the distribution bundle exists on the expected S3 bucket</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> -eq 0 <span class="o">]</span>; <span class="k">then</span>
    <span class="c"># If the bundle exists...</span>
    <span class="c"># Deploys it to the right application/deployment group</span>
    <span class="nv">$AWS</span> deploy create-deployment <span class="se">\</span>
        --application-name <span class="k">${</span><span class="nv">APPLICATION_NAME</span><span class="k">}</span> <span class="se">\</span>
        --deployment-group-name <span class="k">${</span><span class="nv">DEPLOYMENT_GROUP</span><span class="k">}</span> <span class="se">\</span>
        --deployment-config-name CodeDeployDefault.OneAtATime <span class="se">\</span>
        --s3-location <span class="nv">bucket</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">BUCKET_NAME</span><span class="k">}</span><span class="s2">"</span>,bundleType<span class="o">=</span><span class="s2">"zip"</span>,key<span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">APPLICATION_NAME</span><span class="k">}</span><span class="s2">/</span><span class="k">${</span><span class="nv">BUNDLE_NAME</span><span class="k">}</span><span class="s2">"</span>

<span class="k">else</span>
    <span class="c"># Returns an error message</span>
    <span class="nb">echo</span> <span class="s2">"Distribution not found!"</span>
<span class="k">fi</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>The <strong>deploy.sh</strong> script allows to automate the deploy of the distribution bundle stored into a S3 bucket. The automation is accomplished following three main steps:</p>

<ul>
  <li>first, constant and input parameters are defined, collected and combined together in order to get the variables that really matter to the deployment process (the application name, the deployment group, the bucket name and the bundle name).</li>
  <li>then, the existence of the distribution bundle into the expected S3 bucket is checked by executing the <a href="http://docs.aws.amazon.com/cli/latest/reference/s3api/head-object.html" target="blank">head-object</a> AWS CLI command.</li>
  <li>if the distribution bundle already exists, the deploy is accomplished by means of the <a href="http://docs.aws.amazon.com/cli/latest/reference/opsworks/create-deployment.html">create-deployment</a> AWS CLI command otherwise, an error message is returned.</li>
</ul>

<p>You may see that the <strong>create-deployment</strong> command requires a couple of further information, i.e. the bundle type and the deployment configuration. It’s up to you to decide which kind of bundle you want to distribute and which deployment flow you want to follow, exactly like it’s up to you to decide the naming conventions that should apply to the application name, the bucket name and the object keys.</p>

<blockquote>
  <p>Is that all?</p>
</blockquote>

<p>Yes, it is! We’re done with the deployment automation! Now, in order to deploy our application to the test deployment group, we have to first run the <strong>buildAndCopyDistribution</strong> task and then run the <strong>deployOnTest</strong> task.</p>

<blockquote>
  <p>Last but not the least… Why having two Gradle tasks instead of only one?</p>
</blockquote>

<p>You can of course assemble tasks so the the bundle you’re currently building is immediately deployed into your target group. However, sooner or later a bug will get out (yes, it’s sad, I know), and maybe a quick recover is even needed in that case. You cannot benefit of the deployment automation tools if you have only one macro-task which builds, moves and deploys the distribution package. So, at the end, having two tasks provides you with the chance to choose which distribution version should be shipped.</p>

</article>



<section class="tags">
  <strong>Tags:</strong> <a href="/tag/aws">aws</a>,&nbsp;<a href="/tag/gradle">gradle</a>,&nbsp;<a href="/tag/deploy">deploy</a>
</section>



<section class="rss">
  <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
</section>

<section class="share">
  <span>Share: </span>
  
    
    
      <a href="//twitter.com/share?text=Deploy+automation+on+AWS+using+Gradle&url=http://codingnights.com/deploy-automation-on-aws-using-gradle/&via=GioiaBallin"
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
        <i class="fa fa-twitter-square fa-lg"></i>
      </a>
    
    
    
    
    
    
  
    
    
    
      <a href="//www.facebook.com/sharer.php?t=Deploy+automation+on+AWS+using+Gradle&u=http://codingnights.com/deploy-automation-on-aws-using-gradle/"
        onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;">
        <i class="fa fa-facebook-square fa-lg"></i>
      </a>
    
    
    
    
    
  
    
    
    
    
    
      <a href="//www.linkedin.com/shareArticle?mini=true&url=http://codingnights.com/deploy-automation-on-aws-using-gradle/"
        onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;">
        <i class="fa fa-linkedin-square fa-lg"></i>
      </a>
    
    
    
  
    
    
    
    
      <a href="//plus.google.com/share?title=Deploy+automation+on+AWS+using+Gradle&url=http://codingnights.com/deploy-automation-on-aws-using-gradle/"
        onclick="window.open(this.href, 'google-plus-share', 'width=550,height=255');return false;">
        <i class="fa fa-google-plus-square fa-lg"></i>
      </a>
    
    
    
    
  
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
      <a href="//www.reddit.com/submit" onclick="window.location = '//www.reddit.com/submit?url=' + encodeURIComponent('http://codingnights.com/deploy-automation-on-aws-using-gradle/') + '&title=Deploy automation on AWS using Gradle'; return false">
        <i class="fa fa-reddit-square fa-lg"></i>
      </a>
    
  
</section>




<section class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'codingnights';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>




</div>
</div>

    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">Coding Nights</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        
          
            
              <li class="nav-link"><a href="/about-me/">About Me</a>
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
              <li class="nav-link"><a href="/posts/">Posts</a>
            
          
        
          
            
              <li class="nav-link"><a href="/resources/">Resources</a>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
      <br />
      <p>
        <span>Made with <i class="fa fa-heartbeat fa-lg"></i> in Milan</span>
        <br />
        <span><i class="fa fa-copyright" aria-hidden="true"></i>2015-2017 Coding Nights</span>
      </p>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:gioia.ballin@codingnights.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">gioia.ballin@codingnights.com</span>
          </a>
        </li>

        
          
          <li>
            <a href="https://twitter.com/GioiaBallin" title="Follow me on Twitter" target="_blank">
              <i class="fa fa-twitter"></i>
              <span class="username">GioiaBallin</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://www.facebook.com/gioia.ballin" title="Friend me on Facebook" target="_blank">
              <i class="fa fa-facebook"></i>
              <span class="username">gioia.ballin</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://www.linkedin.com/in/gioiaballin/en" title="Connect with me on LinkedIn" target="_blank">
              <i class="fa fa-linkedin"></i>
              <span class="username">gioiaballin</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://plus.google.com/108158390093603092684" title="Add me to your Circles" target="_blank">
              <i class="fa fa-google-plus"></i>
              <span class="username">gioia.ballin</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://github.com/gioiab" title="Fork me on GitHub" target="_blank">
              <i class="fa fa-github"></i>
              <span class="username">gioiab</span>
            </a>
          </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        

      </ul>
    </div>

    <div class="site-signature">
      <p class="rss-subscribe text">
        <strong>Subscribe <a href="/feed.xml" target="_blank">via RSS</a>
        or <a href=http://feeds.feedburner.com/CodingNights target="_blank"> FeedBurner</a></strong>
      </p>
      <p class="text">The (mis)adventures of a Python coder: human feelings and programming subjects reported with a unique frankness.
</p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>

<script>

$(document).ready(function() {

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });


});

</script>


<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-71620022-1', 'auto');
  ga('send', 'pageview', {
    'page': '/deploy-automation-on-aws-using-gradle/',
    'title': 'Deploy automation on AWS using Gradle'
  });
</script>



  </body>

</html>
